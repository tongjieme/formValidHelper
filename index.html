<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<meta http-equiv="x-ua-compatible" content="IE=10">

	<link rel="stylesheet" href="http://lib.sinaapp.com/js/bootstrap/2.3.2/css/bootstrap.min.css">
	<script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
	<script src="http://lib.sinaapp.com/js/bootstrap/2.3.2/js/bootstrap.min.js"></script>

	<style>
		[class^=help] {
			display: none;
		}
	</style>
</head>
<body>
<h1>koala-form.js - Form validation plugin.</h1>
<h2>Simple mode</h2>
<form action="#" class="koala-form simple">
	<section class="controls">
		<input type="text" id="username" placeholder="username" data-valid-options="required regex" data-regex="email" data-on-single-pass="" data-on-passed="">
		<span class="help">Info showed via simple mode.</span>
	</section>
	<section class="controls">
		<input type="password" id="password" placeholder="password" data-valid-options="required regex" data-regex="" data-on-single-pass="" data-on-passed="">
		<span class="help">Info showed via simple mode.</span>
	</section>
	<section class="controls">
		<input type="email" id="email" placeholder="email" data-valid-options="required regex" data-regex="" data-on-single-pass="" data-on-passed="">
		<span class="help">Info showed via simple mode.</span>
	</section>
	<section class="controls">
		<button type="submit" class="btn btn-primary">Submit</button>
	</section>
</form>

<h2>Complex mode</h2>
<form action="#" class="koala-form complex">
	<section class="controls">
		<input type="text" id="username" placeholder="username" data-valid-options="required regex" data-regex="email" data-on-single-pass="" data-on-passed="">
		<span class="help-required">This field is required.</span>
		<span class="help-regex">Doesn't match the regex.</span>
		<span class="help-tips">Here is the tips.</span>
	</section>
	<section class="controls">
		<input type="password" id="password" placeholder="password" data-valid-options="required regex" data-regex="" data-on-single-pass="" data-on-passed="">
		<span class="help-required">This field is required.</span>
		<span class="help-regex">Doesn't match the regex.</span>
		<span class="help-tips">Here is the tips.</span>
	</section>
	<section class="controls">
		<input type="email" id="email" placeholder="email" data-valid-options="required regex" data-regex="" data-on-single-pass="" data-on-passed="">
		<span class="help-required">This field is required.</span>
		<span class="help-regex">Doesn't match the regex.</span>
		<span class="help-tips">Here is the tips.</span>
	</section>
	<section class="controls">
		<button type="submit" class="btn btn-primary">Submit</button>
	</section>
</form>

<script src="koala-form.js"></script>
<script>
var formSimple = new KoalaForm({
	$form: $('.koala-form.simple'),
	controlSelector: '.controls',
	mode: 'simple'
});
var formComplex = new KoalaForm({
	$form: $('.koala-form.complex'),
	controlSelector: '.controls',
	mode: 'complex',
	on_single_error_func: function(type){
		if(type == 'required') {
			$(this).siblings('.help-required').fadeIn();
		}
		if(type == 'regex') {
			$(this).siblings('.help-regex').fadeIn();
		}
	},
	on_single_focus_func: function(){
		$(this).siblings('.help-required').hide();
		$(this).siblings('.help-regex').hide();
		$(this).siblings('.help-tips').show();
	},
	on_single_blur_func: function(){
		$(this).siblings('.help-tips').hide();
	}
});
</script>
</body>
</html>
